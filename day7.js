let input = '$ ls\n' +
    'dir dpllhlcv\n' +
    '284723 hznrlfhh.tnz\n' +
    'dir mgjdlmrz\n' +
    'dir njstc\n' +
    'dir nzwbc\n' +
    'dir qzzfvdh\n' +
    'dir smvhphf\n' +
    '$ cd dpllhlcv\n' +
    '$ ls\n' +
    '11223 bplz.rdp\n' +
    'dir gpmlznd\n' +
    'dir pgcctrb\n' +
    'dir wmsl\n' +
    '$ cd gpmlznd\n' +
    '$ ls\n' +
    'dir lwzcss\n' +
    '83678 nzwbc.rgv\n' +
    'dir rhdllvm\n' +
    '94635 wpglzlrf.htl\n' +
    '$ cd lwzcss\n' +
    '$ ls\n' +
    'dir bttplh\n' +
    '$ cd bttplh\n' +
    '$ ls\n' +
    'dir rzj\n' +
    '$ cd rzj\n' +
    '$ ls\n' +
    '59866 nzwbc.psj\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd rhdllvm\n' +
    '$ ls\n' +
    'dir mvqfrq\n' +
    '$ cd mvqfrq\n' +
    '$ ls\n' +
    '41266 prvl\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd pgcctrb\n' +
    '$ ls\n' +
    'dir dgpfcftj\n' +
    '$ cd dgpfcftj\n' +
    '$ ls\n' +
    '101757 tzjthwc\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd wmsl\n' +
    '$ ls\n' +
    '215238 bvlvn.pgf\n' +
    'dir hhtztpm\n' +
    '197563 hznrlfhh.tnz\n' +
    'dir tzjthwc\n' +
    '$ cd hhtztpm\n' +
    '$ ls\n' +
    '196378 djfbm.djl\n' +
    '203856 ltnwbvg.rqz\n' +
    '266242 mjrlm\n' +
    'dir ngjd\n' +
    'dir wmsl\n' +
    '$ cd ngjd\n' +
    '$ ls\n' +
    '289546 mjrlm\n' +
    '$ cd ..\n' +
    '$ cd wmsl\n' +
    '$ ls\n' +
    '153439 qqb.qmd\n' +
    '25326 tzjthwc\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd tzjthwc\n' +
    '$ ls\n' +
    'dir lhccf\n' +
    '235335 nzwbc\n' +
    'dir wgnhhl\n' +
    'dir wmsl\n' +
    '$ cd lhccf\n' +
    '$ ls\n' +
    'dir nzwbc\n' +
    '100347 rrrj.wzl\n' +
    'dir zfwffjn\n' +
    '$ cd nzwbc\n' +
    '$ ls\n' +
    'dir wmsl\n' +
    '$ cd wmsl\n' +
    '$ ls\n' +
    '102053 nzwbc.qbd\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd zfwffjn\n' +
    '$ ls\n' +
    'dir mrd\n' +
    '23992 rrrj.jcz\n' +
    'dir vnwpddtf\n' +
    '$ cd mrd\n' +
    '$ ls\n' +
    '139407 qqwlrbsw.zfn\n' +
    '$ cd ..\n' +
    '$ cd vnwpddtf\n' +
    '$ ls\n' +
    '287771 dgpfcftj.wpm\n' +
    '59212 qqb.qmd\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd wgnhhl\n' +
    '$ ls\n' +
    '120460 rrrj\n' +
    '$ cd ..\n' +
    '$ cd wmsl\n' +
    '$ ls\n' +
    '17612 rlsswjw.wbr\n' +
    '132954 ttbswbhs.ffs\n' +
    'dir zpldfrj\n' +
    '$ cd zpldfrj\n' +
    '$ ls\n' +
    '180679 qljrrlm.clw\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd mgjdlmrz\n' +
    '$ ls\n' +
    '79173 dng.qrc\n' +
    'dir fnfw\n' +
    'dir hwb\n' +
    'dir nfqzjs\n' +
    'dir qdgplmrt\n' +
    'dir znrnj\n' +
    '$ cd fnfw\n' +
    '$ ls\n' +
    'dir bhjm\n' +
    '263282 bplz.rdp\n' +
    'dir dhsvtfc\n' +
    'dir hlh\n' +
    'dir nzwbc\n' +
    '177780 ttbswbhs.ffs\n' +
    '28452 tzjthwc.wlq\n' +
    '19548 wmsl.rmd\n' +
    '$ cd bhjm\n' +
    '$ ls\n' +
    'dir bpl\n' +
    '57561 dgpfcftj\n' +
    'dir glplnd\n' +
    '170692 hwsjhwvf.rmv\n' +
    'dir rrrj\n' +
    'dir tlltjd\n' +
    'dir tzjthwc\n' +
    'dir wmsl\n' +
    '$ cd bpl\n' +
    '$ ls\n' +
    'dir btpglc\n' +
    '275227 fmbpzn\n' +
    '9798 mjztf.nlg\n' +
    '190388 nzwbc\n' +
    'dir tzjthwc\n' +
    '$ cd btpglc\n' +
    '$ ls\n' +
    '276105 rrrj.rhl\n' +
    '$ cd ..\n' +
    '$ cd tzjthwc\n' +
    '$ ls\n' +
    'dir hqmw\n' +
    '280196 hznrlfhh.tnz\n' +
    '51545 mjrlm\n' +
    '228230 wmsl\n' +
    '$ cd hqmw\n' +
    '$ ls\n' +
    '163168 mchnt.pls\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd glplnd\n' +
    '$ ls\n' +
    '147261 bplz.rdp\n' +
    '267191 hznrlfhh.tnz\n' +
    '$ cd ..\n' +
    '$ cd rrrj\n' +
    '$ ls\n' +
    'dir dgpfcftj\n' +
    'dir fwdw\n' +
    '277548 hnz\n' +
    '164103 nvcsdq.tpj\n' +
    '265477 qzwsg.ccl\n' +
    'dir tnpjsgnq\n' +
    'dir tpvttzv\n' +
    '209300 wmsl.wtq\n' +
    '$ cd dgpfcftj\n' +
    '$ ls\n' +
    'dir dqtbltwp\n' +
    '$ cd dqtbltwp\n' +
    '$ ls\n' +
    '27856 tzjthwc.gnr\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd fwdw\n' +
    '$ ls\n' +
    '166347 fgtfj.pnc\n' +
    '140486 mspn.wcw\n' +
    '26602 nzwbc.dhb\n' +
    '81490 qqb.qmd\n' +
    '$ cd ..\n' +
    '$ cd tnpjsgnq\n' +
    '$ ls\n' +
    'dir gbddb\n' +
    'dir gpqssnq\n' +
    '$ cd gbddb\n' +
    '$ ls\n' +
    '1587 qqb.qmd\n' +
    '$ cd ..\n' +
    '$ cd gpqssnq\n' +
    '$ ls\n' +
    '33979 fmjpw.mtp\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd tpvttzv\n' +
    '$ ls\n' +
    'dir bqvzmb\n' +
    '$ cd bqvzmb\n' +
    '$ ls\n' +
    '79211 fdhjztlv\n' +
    '72991 wgvqvdp.pzp\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd tlltjd\n' +
    '$ ls\n' +
    '58096 swqcsnw\n' +
    '$ cd ..\n' +
    '$ cd tzjthwc\n' +
    '$ ls\n' +
    '66628 pzrdpc.fpc\n' +
    '$ cd ..\n' +
    '$ cd wmsl\n' +
    '$ ls\n' +
    '43111 hznrlfhh.tnz\n' +
    '114356 rrrj.rlf\n' +
    '169873 zpwhgzvc.wql\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd dhsvtfc\n' +
    '$ ls\n' +
    'dir cwbq\n' +
    '201361 dgpfcftj\n' +
    '291508 jjjjwcw\n' +
    '445 pfdvf.pmj\n' +
    '135732 qpc.gsw\n' +
    '115597 wlgrtn.mjb\n' +
    'dir wmsl\n' +
    '$ cd cwbq\n' +
    '$ ls\n' +
    'dir ccgdn\n' +
    'dir gcfbqh\n' +
    '173860 hznrlfhh.tnz\n' +
    '97790 mjrlm\n' +
    'dir qtfhz\n' +
    'dir tpgj\n' +
    'dir tph\n' +
    '$ cd ccgdn\n' +
    '$ ls\n' +
    'dir blnzrjm\n' +
    '46502 fgmntg.crb\n' +
    'dir fwdpw\n' +
    'dir nbldsrfq\n' +
    '11175 nwj.fht\n' +
    '208129 qqb.qmd\n' +
    'dir wpj\n' +
    '$ cd blnzrjm\n' +
    '$ ls\n' +
    '121398 gvs\n' +
    '201215 pdppzscr.vph\n' +
    'dir pwj\n' +
    '3861 smwrnw.hqp\n' +
    'dir tzjthwc\n' +
    '220659 wzccnw.lsc\n' +
    '$ cd pwj\n' +
    '$ ls\n' +
    '279141 bwj.ntc\n' +
    '15325 jvqwhwmh.brq\n' +
    '$ cd ..\n' +
    '$ cd tzjthwc\n' +
    '$ ls\n' +
    '25191 jdgphj\n' +
    '70354 rrrj.szq\n' +
    '256692 wmsl\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd fwdpw\n' +
    '$ ls\n' +
    '28780 prhjf\n' +
    '$ cd ..\n' +
    '$ cd nbldsrfq\n' +
    '$ ls\n' +
    '57352 dcrhr\n' +
    '$ cd ..\n' +
    '$ cd wpj\n' +
    '$ ls\n' +
    '51243 jmdn.bzh\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd gcfbqh\n' +
    '$ ls\n' +
    '92250 crmpsc.rbf\n' +
    '284234 tzjthwc\n' +
    '$ cd ..\n' +
    '$ cd qtfhz\n' +
    '$ ls\n' +
    '164311 hznrlfhh.tnz\n' +
    '137031 mjrlm\n' +
    '$ cd ..\n' +
    '$ cd tpgj\n' +
    '$ ls\n' +
    '210570 jdpv.fpw\n' +
    '$ cd ..\n' +
    '$ cd tph\n' +
    '$ ls\n' +
    'dir hptp\n' +
    'dir rrrj\n' +
    '$ cd hptp\n' +
    '$ ls\n' +
    '272964 qqb.qmd\n' +
    '147435 svrcpb\n' +
    '$ cd ..\n' +
    '$ cd rrrj\n' +
    '$ ls\n' +
    '145269 btzl.vcs\n' +
    '156500 tzjthwc.ddw\n' +
    '236073 vsrghnhl.wdc\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd wmsl\n' +
    '$ ls\n' +
    '62697 mjrlm\n' +
    'dir psndpb\n' +
    '33688 tzjthwc.hjc\n' +
    '100902 tzjthwc.rnm\n' +
    '$ cd psndpb\n' +
    '$ ls\n' +
    'dir dbm\n' +
    'dir fbmfpndf\n' +
    'dir fstgbcrc\n' +
    '272771 lszgqt\n' +
    '136189 mjrlm\n' +
    '166606 qqb.qmd\n' +
    'dir vptjzdt\n' +
    '$ cd dbm\n' +
    '$ ls\n' +
    'dir nzwbc\n' +
    'dir tzjthwc\n' +
    '$ cd nzwbc\n' +
    '$ ls\n' +
    'dir ffmrngmj\n' +
    '$ cd ffmrngmj\n' +
    '$ ls\n' +
    '299742 nrwrptz.cmp\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd tzjthwc\n' +
    '$ ls\n' +
    '268152 pln\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd fbmfpndf\n' +
    '$ ls\n' +
    '186758 bplz.rdp\n' +
    '$ cd ..\n' +
    '$ cd fstgbcrc\n' +
    '$ ls\n' +
    '4975 hznrlfhh.tnz\n' +
    '59093 mjrlm\n' +
    'dir nzwbc\n' +
    '279246 qqb.qmd\n' +
    '$ cd nzwbc\n' +
    '$ ls\n' +
    '152443 nzwbc\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd vptjzdt\n' +
    '$ ls\n' +
    '117403 ttbswbhs.ffs\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd hlh\n' +
    '$ ls\n' +
    '96676 rrrj.mfv\n' +
    '$ cd ..\n' +
    '$ cd nzwbc\n' +
    '$ ls\n' +
    '192533 njwsbs.srq\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd hwb\n' +
    '$ ls\n' +
    '44576 dshmsgj.cnd\n' +
    '70710 tdcgvdv.phs\n' +
    '$ cd ..\n' +
    '$ cd nfqzjs\n' +
    '$ ls\n' +
    '18103 tfwmgdj\n' +
    '$ cd ..\n' +
    '$ cd qdgplmrt\n' +
    '$ ls\n' +
    '163549 mjrlm\n' +
    '$ cd ..\n' +
    '$ cd znrnj\n' +
    '$ ls\n' +
    'dir dgpfcftj\n' +
    '53146 mzbpjgd.lmp\n' +
    '202250 vmtdc\n' +
    '$ cd dgpfcftj\n' +
    '$ ls\n' +
    'dir cdgrjlz\n' +
    '238240 fmtclb.vfq\n' +
    '$ cd cdgrjlz\n' +
    '$ ls\n' +
    '89863 dpnzsq.dbd\n' +
    '259686 mjrlm\n' +
    '50165 qqb.qmd\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd njstc\n' +
    '$ ls\n' +
    '70592 bplz.rdp\n' +
    '100122 ccdp.lpw\n' +
    'dir jnffc\n' +
    'dir jnrrwt\n' +
    '21922 lcr.mqp\n' +
    'dir mdts\n' +
    '9581 rwdnfc.zqq\n' +
    'dir zchc\n' +
    '$ cd jnffc\n' +
    '$ ls\n' +
    '54279 vbvpzw.rst\n' +
    '147514 vzshqq.qpb\n' +
    '$ cd ..\n' +
    '$ cd jnrrwt\n' +
    '$ ls\n' +
    '51615 bplz.rdp\n' +
    'dir fvmgmn\n' +
    'dir wjrqnlr\n' +
    '$ cd fvmgmn\n' +
    '$ ls\n' +
    '159538 sntlcs.vms\n' +
    '$ cd ..\n' +
    '$ cd wjrqnlr\n' +
    '$ ls\n' +
    'dir dvcqnv\n' +
    'dir jnjzlhhw\n' +
    '135325 mjrlm\n' +
    '94135 qqb.qmd\n' +
    '$ cd dvcqnv\n' +
    '$ ls\n' +
    '66408 mjrlm\n' +
    '$ cd ..\n' +
    '$ cd jnjzlhhw\n' +
    '$ ls\n' +
    '89668 bplz.rdp\n' +
    'dir btcjthr\n' +
    '$ cd btcjthr\n' +
    '$ ls\n' +
    'dir sbcwwvj\n' +
    'dir tzjthwc\n' +
    '280405 zjf.fqt\n' +
    '$ cd sbcwwvj\n' +
    '$ ls\n' +
    'dir wmsl\n' +
    '$ cd wmsl\n' +
    '$ ls\n' +
    '31258 vfwqsw\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd tzjthwc\n' +
    '$ ls\n' +
    'dir dgpfcftj\n' +
    '$ cd dgpfcftj\n' +
    '$ ls\n' +
    '281485 lhnnjrcq\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd mdts\n' +
    '$ ls\n' +
    '191614 ttbswbhs.ffs\n' +
    '$ cd ..\n' +
    '$ cd zchc\n' +
    '$ ls\n' +
    'dir rrrj\n' +
    '$ cd rrrj\n' +
    '$ ls\n' +
    '102230 ttbswbhs.ffs\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd nzwbc\n' +
    '$ ls\n' +
    '30185 bplz.rdp\n' +
    'dir dgpfcftj\n' +
    '238614 hfg.tsw\n' +
    '215453 lzvmwg.crp\n' +
    'dir mfbhtb\n' +
    'dir nbdn\n' +
    'dir nzw\n' +
    '77355 qqb.qmd\n' +
    '114201 wmsl\n' +
    'dir zcv\n' +
    '$ cd dgpfcftj\n' +
    '$ ls\n' +
    '258786 dhdmsqfs.jhs\n' +
    'dir ltrg\n' +
    'dir nzwbc\n' +
    '18568 qqb.qmd\n' +
    '$ cd ltrg\n' +
    '$ ls\n' +
    'dir nzwbc\n' +
    'dir wmsl\n' +
    '$ cd nzwbc\n' +
    '$ ls\n' +
    '72334 fhd\n' +
    '$ cd ..\n' +
    '$ cd wmsl\n' +
    '$ ls\n' +
    'dir rvt\n' +
    '$ cd rvt\n' +
    '$ ls\n' +
    '232235 nzwbc\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd nzwbc\n' +
    '$ ls\n' +
    '29531 rnl\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd mfbhtb\n' +
    '$ ls\n' +
    '21538 sjrwtjcq\n' +
    '$ cd ..\n' +
    '$ cd nbdn\n' +
    '$ ls\n' +
    '120432 bplz.rdp\n' +
    '180737 hjsv\n' +
    '295982 mjrlm\n' +
    'dir rscwnwt\n' +
    '13218 vzjtg.hhp\n' +
    '1332 zjwf.spw\n' +
    '$ cd rscwnwt\n' +
    '$ ls\n' +
    '268727 fnvfrbzg.wmw\n' +
    '155540 jgfvpmp\n' +
    '242598 rrrj\n' +
    '47339 vqqqmg.dss\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd nzw\n' +
    '$ ls\n' +
    '135129 hfbptj.rsq\n' +
    'dir nhzg\n' +
    'dir qshfn\n' +
    '$ cd nhzg\n' +
    '$ ls\n' +
    '219375 tzjthwc.gsl\n' +
    '$ cd ..\n' +
    '$ cd qshfn\n' +
    '$ ls\n' +
    'dir pnjhczqg\n' +
    'dir tzjthwc\n' +
    '279385 whsdfns\n' +
    '141044 wmsl.tpl\n' +
    '$ cd pnjhczqg\n' +
    '$ ls\n' +
    '141321 rlgtn.jvh\n' +
    'dir wrh\n' +
    '$ cd wrh\n' +
    '$ ls\n' +
    '143304 sfvrld.nsz\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd tzjthwc\n' +
    '$ ls\n' +
    'dir lnhmfb\n' +
    '168870 qqb.qmd\n' +
    '178464 rrrj.qml\n' +
    '201521 rwdwv.gnn\n' +
    '21171 vznflldw.zrf\n' +
    '$ cd lnhmfb\n' +
    '$ ls\n' +
    'dir dzzdvmtl\n' +
    'dir ttnm\n' +
    '$ cd dzzdvmtl\n' +
    '$ ls\n' +
    'dir mrg\n' +
    '$ cd mrg\n' +
    '$ ls\n' +
    '174378 rrrj.lnh\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd ttnm\n' +
    '$ ls\n' +
    '272667 hznrlfhh.tnz\n' +
    '251551 wmsl.ggr\n' +
    '97289 wmsl.phl\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd zcv\n' +
    '$ ls\n' +
    'dir cwsqwt\n' +
    'dir dgpfcftj\n' +
    '256838 dntqvr.snf\n' +
    'dir nbq\n' +
    'dir nzbdsvt\n' +
    '293181 rrrj.lvd\n' +
    '$ cd cwsqwt\n' +
    '$ ls\n' +
    '141770 bbrgtfh.zmf\n' +
    '100359 mjrlm\n' +
    '96547 qqb.qmd\n' +
    '176620 ttbswbhs.ffs\n' +
    '$ cd ..\n' +
    '$ cd dgpfcftj\n' +
    '$ ls\n' +
    '82245 pqjjnjrw\n' +
    '295247 rrrj.lfw\n' +
    '$ cd ..\n' +
    '$ cd nbq\n' +
    '$ ls\n' +
    '132140 bwdvjv.gwq\n' +
    'dir gbjtzhj\n' +
    'dir mfsr\n' +
    'dir nzwbc\n' +
    '248867 rrrj\n' +
    '226784 sjtsjgrb\n' +
    '94475 tjh.vft\n' +
    'dir tzjthwc\n' +
    '149501 tzjthwc.rgb\n' +
    '$ cd gbjtzhj\n' +
    '$ ls\n' +
    '43689 rrrj.msh\n' +
    '$ cd ..\n' +
    '$ cd mfsr\n' +
    '$ ls\n' +
    '30068 sntz.lqw\n' +
    'dir tch\n' +
    'dir zzgtsqvh\n' +
    '$ cd tch\n' +
    '$ ls\n' +
    'dir tzjthwc\n' +
    '$ cd tzjthwc\n' +
    '$ ls\n' +
    '289238 sjwjdmd\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd zzgtsqvh\n' +
    '$ ls\n' +
    '289069 tzjthwc.mql\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd nzwbc\n' +
    '$ ls\n' +
    '138407 hgtr.hst\n' +
    '$ cd ..\n' +
    '$ cd tzjthwc\n' +
    '$ ls\n' +
    '173287 tclm.zqt\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd nzbdsvt\n' +
    '$ ls\n' +
    '89301 ttbswbhs.ffs\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd qzzfvdh\n' +
    '$ ls\n' +
    '102585 dgpfcftj.fbr\n' +
    'dir nzwbc\n' +
    'dir rrrj\n' +
    'dir tzjthwc\n' +
    'dir vgnlftjr\n' +
    'dir vjqzf\n' +
    'dir zhmgmmv\n' +
    '$ cd nzwbc\n' +
    '$ ls\n' +
    '252665 ffq.sjv\n' +
    '87232 hznrlfhh.tnz\n' +
    'dir lfpltbmd\n' +
    'dir lmnvgrm\n' +
    '223794 mjrlm\n' +
    'dir qnfp\n' +
    'dir wdn\n' +
    '$ cd lfpltbmd\n' +
    '$ ls\n' +
    'dir dgpfcftj\n' +
    '59516 frtspbh\n' +
    '$ cd dgpfcftj\n' +
    '$ ls\n' +
    '264780 bplz.rdp\n' +
    '169819 nmwvbqlr.dpd\n' +
    '9212 whtcbl.zzb\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd lmnvgrm\n' +
    '$ ls\n' +
    '12367 nwc.qbd\n' +
    'dir rrrj\n' +
    'dir wmsl\n' +
    '$ cd rrrj\n' +
    '$ ls\n' +
    '269510 tctgzc\n' +
    '$ cd ..\n' +
    '$ cd wmsl\n' +
    '$ ls\n' +
    '138765 bdgpp.fwd\n' +
    '298221 fljmgctv\n' +
    '90883 hwmwtln\n' +
    '2731 jnhrtbqs\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd qnfp\n' +
    '$ ls\n' +
    '78470 ddbcjwg.wqc\n' +
    'dir ldq\n' +
    'dir ljv\n' +
    'dir nzwbc\n' +
    '254734 qrwct.rvp\n' +
    'dir wmsl\n' +
    '95613 wmsl.wgv\n' +
    '$ cd ldq\n' +
    '$ ls\n' +
    '268677 ttbswbhs.ffs\n' +
    'dir wmsl\n' +
    '$ cd wmsl\n' +
    '$ ls\n' +
    'dir wfqbv\n' +
    '$ cd wfqbv\n' +
    '$ ls\n' +
    '268503 tgrlfscv.vbn\n' +
    '222733 vwlcnm.wqq\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd ljv\n' +
    '$ ls\n' +
    '184758 gjddvvbs.zjq\n' +
    '278919 mjrlm\n' +
    '241428 nzwbc.fsf\n' +
    'dir wdfwp\n' +
    '$ cd wdfwp\n' +
    '$ ls\n' +
    '100960 jnhpmp\n' +
    '204739 sfhjbnq.jpr\n' +
    '110857 twrzzn.tpm\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd nzwbc\n' +
    '$ ls\n' +
    '171647 glrd\n' +
    '$ cd ..\n' +
    '$ cd wmsl\n' +
    '$ ls\n' +
    '39475 frptpcd.cbf\n' +
    'dir mnd\n' +
    '258387 tzjthwc\n' +
    '$ cd mnd\n' +
    '$ ls\n' +
    'dir wmsl\n' +
    '$ cd wmsl\n' +
    '$ ls\n' +
    'dir rrrj\n' +
    '$ cd rrrj\n' +
    '$ ls\n' +
    '124041 rmrqhf\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd wdn\n' +
    '$ ls\n' +
    '220196 gpp.qdd\n' +
    '71184 jsjcvvmd.mdc\n' +
    '228140 rrrj.cqm\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd rrrj\n' +
    '$ ls\n' +
    '165549 qgd.pgt\n' +
    '206913 rrrj.whw\n' +
    '56087 ttbswbhs.ffs\n' +
    '$ cd ..\n' +
    '$ cd tzjthwc\n' +
    '$ ls\n' +
    'dir cjrtl\n' +
    'dir cmqzqrc\n' +
    'dir dgpfcftj\n' +
    'dir gmlgztg\n' +
    '16349 hgjnnw.nwp\n' +
    'dir qflmtrgh\n' +
    'dir snjv\n' +
    '118210 ttbswbhs.ffs\n' +
    'dir vsq\n' +
    '211036 zsflzpg\n' +
    '$ cd cjrtl\n' +
    '$ ls\n' +
    '157605 frfb.flq\n' +
    '182254 gqtprzlg\n' +
    'dir lldcwcf\n' +
    '86395 ttbswbhs.ffs\n' +
    'dir wmsl\n' +
    '$ cd lldcwcf\n' +
    '$ ls\n' +
    '279487 bplz.rdp\n' +
    '229071 djzs\n' +
    '$ cd ..\n' +
    '$ cd wmsl\n' +
    '$ ls\n' +
    'dir dnfztwvj\n' +
    '$ cd dnfztwvj\n' +
    '$ ls\n' +
    '211224 hznrlfhh.tnz\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd cmqzqrc\n' +
    '$ ls\n' +
    'dir bsfqcv\n' +
    'dir dgpfcftj\n' +
    'dir nzwbc\n' +
    '$ cd bsfqcv\n' +
    '$ ls\n' +
    '62520 ltzblpc\n' +
    '$ cd ..\n' +
    '$ cd dgpfcftj\n' +
    '$ ls\n' +
    '144915 bdv.snn\n' +
    '170427 rrrj.qfg\n' +
    '287416 tzjthwc\n' +
    '$ cd ..\n' +
    '$ cd nzwbc\n' +
    '$ ls\n' +
    '223973 zvssq.lch\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd dgpfcftj\n' +
    '$ ls\n' +
    'dir pzfnlzbj\n' +
    '$ cd pzfnlzbj\n' +
    '$ ls\n' +
    '190720 dgpfcftj.ffm\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd gmlgztg\n' +
    '$ ls\n' +
    '234781 bplz.rdp\n' +
    '29314 nzwbc.mgl\n' +
    '86928 qqb.qmd\n' +
    '262374 rrrj.qlm\n' +
    '$ cd ..\n' +
    '$ cd qflmtrgh\n' +
    '$ ls\n' +
    'dir rrrj\n' +
    'dir wrm\n' +
    '$ cd rrrj\n' +
    '$ ls\n' +
    'dir wftzbw\n' +
    '$ cd wftzbw\n' +
    '$ ls\n' +
    'dir chzs\n' +
    '$ cd chzs\n' +
    '$ ls\n' +
    'dir dfhzcft\n' +
    '$ cd dfhzcft\n' +
    '$ ls\n' +
    '93504 mjrlm\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd wrm\n' +
    '$ ls\n' +
    '13708 jzgqvthh\n' +
    '138652 mlwflb\n' +
    '145161 szfzs.clj\n' +
    '297793 ttbswbhs.ffs\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd snjv\n' +
    '$ ls\n' +
    'dir grq\n' +
    '92025 nzwbc\n' +
    'dir rrrj\n' +
    'dir wmsl\n' +
    '$ cd grq\n' +
    '$ ls\n' +
    '189188 jzccjh.lsl\n' +
    'dir nzwbc\n' +
    '97611 pngngj\n' +
    'dir tzjthwc\n' +
    'dir wjcjqc\n' +
    '$ cd nzwbc\n' +
    '$ ls\n' +
    '12818 vzc\n' +
    '$ cd ..\n' +
    '$ cd tzjthwc\n' +
    '$ ls\n' +
    'dir cfwvmwr\n' +
    '54762 dgpfcftj\n' +
    '179432 gbt.whg\n' +
    'dir njsfv\n' +
    '220002 whr.jqn\n' +
    '$ cd cfwvmwr\n' +
    '$ ls\n' +
    '227691 pfgmbsjd\n' +
    '$ cd ..\n' +
    '$ cd njsfv\n' +
    '$ ls\n' +
    '39114 fpjqqcsp.czm\n' +
    '289813 mjrlm\n' +
    '279549 qqb.qmd\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd wjcjqc\n' +
    '$ ls\n' +
    '258155 ttbswbhs.ffs\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd rrrj\n' +
    '$ ls\n' +
    '277036 bdgws\n' +
    'dir dgpfcftj\n' +
    '269322 dgpfcftj.zgt\n' +
    'dir fsqdnl\n' +
    '33872 qqb.qmd\n' +
    '$ cd dgpfcftj\n' +
    '$ ls\n' +
    '172038 mzjmmddr.fnl\n' +
    '$ cd ..\n' +
    '$ cd fsqdnl\n' +
    '$ ls\n' +
    '250732 zczcgq.lbb\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd wmsl\n' +
    '$ ls\n' +
    '84076 nzwbc.pmp\n' +
    '196119 rrrj.gph\n' +
    '104986 ttbswbhs.ffs\n' +
    'dir zmvrrdps\n' +
    '$ cd zmvrrdps\n' +
    '$ ls\n' +
    '170723 wmsl.mpg\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd vsq\n' +
    '$ ls\n' +
    '136431 hznrlfhh.tnz\n' +
    '195767 mrrc.tst\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd vgnlftjr\n' +
    '$ ls\n' +
    '29769 mjrlm\n' +
    '53024 wmsl.nhr\n' +
    '123863 wps.hhq\n' +
    '$ cd ..\n' +
    '$ cd vjqzf\n' +
    '$ ls\n' +
    'dir dgpfcftj\n' +
    'dir gnnstzc\n' +
    '45701 lgrst.fhc\n' +
    '265249 spdrmtbd.pnd\n' +
    '182349 ttbswbhs.ffs\n' +
    '$ cd dgpfcftj\n' +
    '$ ls\n' +
    '47874 mvlb.gbn\n' +
    '$ cd ..\n' +
    '$ cd gnnstzc\n' +
    '$ ls\n' +
    '105525 lbqh.pst\n' +
    '13456 rrrj.hlm\n' +
    '62170 vll.cft\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd zhmgmmv\n' +
    '$ ls\n' +
    'dir fvwm\n' +
    '165656 qtjnmzrd.grm\n' +
    '$ cd fvwm\n' +
    '$ ls\n' +
    'dir dgpfcftj\n' +
    '$ cd dgpfcftj\n' +
    '$ ls\n' +
    '214069 qqb.qmd\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd smvhphf\n' +
    '$ ls\n' +
    '202817 dvtblw.wsr';

let lines = input.split('\n');

let dirs = {};
let pointer = '/';

for (let i=0;i<lines.length;i++) {
    if (pointer[0] !== '/') {
        console.log('wtf')
    }
    let line = lines[i];
    let command = line.slice(0, 4);
    switch (command) {
        case "$ cd":
            let direction = line.slice(5);
            if (direction === '..') {
                let folders  = pointer.split('/');
                folders = folders.slice(0, -2);
                pointer = folders.join('/') + '/';
            } else  {
                pointer += direction + '/';
            }
            break;
        case "$ ls":
            break;
        case "dir ":
            break;
        default:
            let weight = line.split(' ')[0];
            weight = parseInt(weight);
            let nested = pointer.split('/');
            nested.pop()
            while (nested.length>0) {
                let path = nested.join('/') + '/';
                if (isNaN(dirs[path])) {
                    dirs[path] = 0;
                }
                dirs[path]+=weight;
                nested.pop()
            }
            break;
    }
}

let sumForFirstTask = 0;
let minimalVictimWeight = 30000000 - (70000000 - dirs['/']);
let victimForSecondTask = dirs['/'];
for (const [dir, weight] of Object.entries(dirs)) {
    if (weight<100000) {
        sumForFirstTask+=weight
    }
    if (victimForSecondTask > weight && weight>minimalVictimWeight) {
        victimForSecondTask = weight;
    }
}

console.log(sumForFirstTask, victimForSecondTask)

